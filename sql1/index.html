<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><meta name="description" content="我的博客"/><title> | 知识汇集</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"/><link rel="stylesheet" type="text/css" href="/css/highlight.css"/><link rel="stylesheet" type="text/css" href="/css/font.css"/><link rel="stylesheet" type="text/css" href="/css/noise.css"/><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"/><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"/></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></nav><div class="container post-meta"><div class="post-time">2018-05-21</div></div></div><div class="container post-header"><h1></h1></div><div class="container post-content"><h2 id="select-top-limit"><a href="#select-top-limit" class="headerlink" title="select top/limit"></a>select top/limit</h2><p>select top 子句返回规定数目的记录 。</p>
<p>select top  numbers|percent column_name(s) from table_name;</p>
<p>在MySQL中使用limit返回规定数目的记录。</p>
<p>select  column_name(s)  from table_name limit numbers;</p>
<figure class="highlight plain"><figcaption><span>* from websites limit 5;```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## like</span><br><span class="line"></span><br><span class="line">like 操作符用于在where子句中搜索列的指定模式。</span><br><span class="line"></span><br><span class="line">select column_name(s) from table_name where column_name like pattern;</span><br><span class="line"></span><br><span class="line">指定模式可用通配符。</span><br><span class="line"></span><br><span class="line">## 通配符</span><br><span class="line"></span><br><span class="line">%:代表零个或多个字符。</span><br><span class="line"></span><br><span class="line">_:代表任意一个字符。</span><br><span class="line"></span><br><span class="line">\[charlist\]:代表字符列表中的任意一个。</span><br><span class="line"></span><br><span class="line">\[^charlist\]:代表不在字符列表中的任意一个。</span><br><span class="line"></span><br><span class="line">^[charlist]:代表以字符列表中的任意一个起始</span><br><span class="line"></span><br><span class="line">^\[^charlist\]:代表不在字符列表中的任意一个起始。</span><br><span class="line"></span><br><span class="line">其中搭配以上通配符可以让LIKE命令实现多种技巧：</span><br></pre></td></tr></table></figure>
<p>1、LIKE’Mc%’ 将搜索以字母 Mc 开头的所有字符串（如 McBadden）。</p>
<p>2、LIKE’%inger’ 将搜索以字母 inger 结尾的所有字符串（如 Ringer、Stringer）。</p>
<p>3、LIKE’%en%’ 将搜索在任何位置包含字母 en 的所有字符串（如 Bennet、Green、McBadden）。</p>
<p>4、LIKE’_heryl’ 将搜索以字母 heryl 结尾的所有六个字母的名称（如 Cheryl、Sheryl）。</p>
<p>5、LIKE’[CK]ars[eo]n’ 将搜索下列字符串：Carsen、Karsen、Carson 和 Karson（如 Carson）。</p>
<p>6、LIKE’[M-Z]inger’ 将搜索以字符串 inger 结尾、以从 M 到 Z 的任何单个字母开头的所有名称（如 Ringer）。</p>
<p>7、LIKE’M[^c]%’ 将搜索以字母 M 开头，并且第二个字母不是 c 的所有名称（如MacFeather）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">## in</span><br><span class="line"></span><br><span class="line">in 操作符返回符合几个规定值之间任意一个的记录</span><br><span class="line"></span><br><span class="line">select column_name(s) from table_name where column_name in(value1,value2,...);</span><br><span class="line"></span><br><span class="line">```例子: select * from websites where name in(&apos;Google&apos;,&apos;菜鸟教程&apos;);</span><br></pre></td></tr></table></figure></p>
<h2 id="not-in"><a href="#not-in" class="headerlink" title="not in"></a>not in</h2><p>not in 操作符返回符合几个规定值之间任意一个的记录</p>
<p>select column_name(s) from table_name where column_name not  in(value1,value2,…);</p>
<figure class="highlight plain"><figcaption><span>select * from websites where name not in('Google','菜鸟教程');```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## between</span><br><span class="line"></span><br><span class="line">between 操作符返回介于两个值之间的数据范围内的记录，这些值可以使数值、文本或者日期</span><br><span class="line"></span><br><span class="line">select column_name(s) from table_name between  value1 and value2;</span><br><span class="line"></span><br><span class="line">```例子：select * from websites where  id not  between 2 and 3;</span><br></pre></td></tr></table></figure>
<h2 id="not-between"><a href="#not-between" class="headerlink" title="not between"></a>not between</h2><p>not between 操作符返回不介于两个值之间的数据范围内的记录，这些值可以是数值、文本或者日期</p>
<p>select column_name(s) from table_name not between  value1 and value2;</p>
<figure class="highlight plain"><figcaption><span>* from websites where  id not between 2 and 3;```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**请注意，在不同的数据库中，BETWEEN 操作符会产生不同的结果！**</span><br><span class="line"></span><br><span class="line">在某些数据库中，BETWEEN 选取介于两个值之间但不包括两个测试值的字段。 </span><br><span class="line"></span><br><span class="line">在某些数据库中，BETWEEN 选取介于两个值之间且包括两个测试值的字段。 (*mysql*)</span><br><span class="line"></span><br><span class="line">在某些数据库中，BETWEEN 选取介于两个值之间且包括第一个测试值但不包括最后一个测试值的字段 </span><br><span class="line"></span><br><span class="line">## 别名</span><br><span class="line"></span><br><span class="line">通过使用sql，可以为表名称或列名称指定别名</span><br><span class="line"></span><br><span class="line">### 列的别名语法</span><br><span class="line"></span><br><span class="line">select column_name as alias_name from table_name;</span><br></pre></td></tr></table></figure>
<p>例子：select name as n,country as c from websites;<br>结果：<br>+————–+——+<br>| n            | c    |<br>+————–+——+<br>| Google       | USA  |<br>| 淘宝         | CN   |<br>| 菜鸟教程     | CN   |<br>| 微博         | CN   |<br>| Facebook     | USA  |<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 表的别名语法</span><br><span class="line"></span><br><span class="line">select column_name  from table_name as alias_name;</span><br></pre></td></tr></table></figure></p>
<p>例子：select w.name,w.country from websites as w ;<br>结果：<br>+————–+———+<br>| name         | country |<br>+————–+———+<br>| Google       | USA     |<br>| 淘宝         | CN      |<br>| 菜鸟教程     | CN      |<br>| 微博         | CN      |<br>| Facebook     | USA     |<br>+————–+———+<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## SQL连接(join)</span><br><span class="line"></span><br><span class="line">sql join 子句用于把两个或两个以上的表连接起来基于这些表的共同字段进行查询</span><br><span class="line"></span><br><span class="line">### SQL inner join(内连接)</span><br><span class="line"></span><br><span class="line">inner join内连接操作符只有在符合条件的记录存在时才返回行</span><br><span class="line"></span><br><span class="line">select column_name(s) from table1inner join table2 on table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure></p>
<p>例子：select websites.name, access_log.count ,access_log.date from websites inner join access_log on websites.id=access_log.site_id;<br>结果:<br>+————–+——-+————+<br>| name         | count | date       |<br>+————–+——-+————+<br>| Google       |    45 | 2016-05-10 |<br>| 菜鸟教程     |   100 | 2016-05-13 |<br>| Google       |   230 | 2016-05-14 |<br>| 淘宝         |    10 | 2016-05-14 |<br>| Facebook     |   205 | 2016-05-14 |<br>| 微博         |    13 | 2016-05-15 |<br>| 菜鸟教程     |   220 | 2016-05-15 |<br>| Facebook     |   545 | 2016-05-16 |<br>| 菜鸟教程     |   201 | 2016-05-17 |<br>+————–+——-+————+<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### SQL left join(左连接)</span><br><span class="line"></span><br><span class="line">left join左连接操作符以其左边的表为基准返回全部的行，行的顺序为右边表去匹配的顺序，即使右表（table2）中没有匹配。如果右表中没有匹配，则结果为 NULL。 </span><br><span class="line"></span><br><span class="line">select column_name(s) from table1 left join table2 on table1.column_name=table2.column_name;</span><br><span class="line">#### websites</span><br><span class="line"></span><br><span class="line">| id   | name          | url                       | alexa | country |</span><br><span class="line">| ---- | ------------- | ------------------------- | ----- | ------- |</span><br><span class="line">| 1    | Google        | https://www.google.cm/    | 1     | USA     |</span><br><span class="line">| 2    | 淘宝          | https://www.taobao.com/   | 13    | CN      |</span><br><span class="line">| 3    | 菜鸟教程      | http://www.runoob.com/    | 4389  | CN      |</span><br><span class="line">| 4    | 微博          | http://weibo.com/         | 20    | CN      |</span><br><span class="line">| 5    | Facebook      | https://www.facebook.com/ | 3     | USA     |</span><br><span class="line">| 6    | stackoverflow | http://stackoverflow.com/ | 0     | IND     |</span><br><span class="line">#### access_log</span><br><span class="line">| aid  | site_id | count | date       |</span><br><span class="line">| ---- | ------- | ----- | ---------- |</span><br><span class="line">| 1    | 1       | 45    | 2016-05-10 |</span><br><span class="line">| 2    | 3       | 100   | 2016-05-13 |</span><br><span class="line">| 3    | 1       | 230   | 2016-05-14 |</span><br><span class="line">| 4    | 2       | 10    | 2016-05-14 |</span><br><span class="line">| 5    | 5       | 205   | 2016-05-14 |</span><br><span class="line">| 6    | 4       | 13    | 2016-05-15 |</span><br><span class="line">| 7    | 3       | 220   | 2016-05-15 |</span><br><span class="line">| 8    | 5       | 545   | 2016-05-16 |</span><br><span class="line">| 9    | 3       | 201   | 2016-05-17 |</span><br></pre></td></tr></table></figure></p>
<p>例子1：select websites.name, access_log.count ,access_log.date from websites left join access_log on websites.id=access_log.site_id;<br>结果:<br>+—————+——-+————+<br>| name          | count | date       |<br>+—————+——-+————+<br>| Google        |    45 | 2016-05-10 |<br>| 菜鸟教程      |   100 | 2016-05-13 |<br>| Google        |   230 | 2016-05-14 |<br>| 淘宝          |    10 | 2016-05-14 |<br>| Facebook      |   205 | 2016-05-14 |<br>| 微博          |    13 | 2016-05-15 |<br>| 菜鸟教程      |   220 | 2016-05-15 |<br>| Facebook      |   545 | 2016-05-16 |<br>| 菜鸟教程      |   201 | 2016-05-17 |<br>| stackoverflow |  NULL | NULL       |<br>+—————+——-+————+<br>例子2:select websites.name, access_log.count ,access_log.date from  access_log left join websites on websites.id=access_log.site_id;<br>结果：<br>+————–+——-+————+<br>| name         | count | date       |<br>+————–+——-+————+<br>| Google       |    45 | 2016-05-10 |<br>| Google       |   230 | 2016-05-14 |<br>| 淘宝         |    10 | 2016-05-14 |<br>| 菜鸟教程     |   100 | 2016-05-13 |<br>| 菜鸟教程     |   220 | 2016-05-15 |<br>| 菜鸟教程     |   201 | 2016-05-17 |<br>| 微博         |    13 | 2016-05-15 |<br>| Facebook     |   205 | 2016-05-14 |<br>| Facebook     |   545 | 2016-05-16 |<br>+————–+——-+————+<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### SQL right join(右连接)</span><br><span class="line"></span><br><span class="line">left join右连接操作符以其右边的表为基准返回全部的行，行的顺序为左边表去匹配的顺序，即使右表（table2）中没有匹配。如果右表中没有匹配，则结果为 NULL。 </span><br><span class="line"></span><br><span class="line">select column_name(s) from table1 right join table2 on table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure></p>
<p>例子1：select websites.name, access_log.count ,access_log.date from websites right join access_log on websites.id=access_log.site_id;<br>结:1：<br>+————–+——-+————+<br>| name         | count | date       |<br>+————–+——-+————+<br>| Google       |    45 | 2016-05-10 |<br>| Google       |   230 | 2016-05-14 |<br>| 淘宝         |    10 | 2016-05-14 |<br>| 菜鸟教程     |   100 | 2016-05-13 |<br>| 菜鸟教程     |   220 | 2016-05-15 |<br>| 菜鸟教程     |   201 | 2016-05-17 |<br>| 微博         |    13 | 2016-05-15 |<br>| Facebook     |   205 | 2016-05-14 |<br>| Facebook     |   545 | 2016-05-16 |<br>+————–+——-+————+<br>例子2：select websites.name, access_log.count ,access_log.date from access_log right join websites on websites.id=access_log.site_id;<br>结果2：<br>+—————+——-+————+<br>| name          | count | date       |<br>+—————+——-+————+<br>| Google        |    45 | 2016-05-10 |<br>| 菜鸟教程      |   100 | 2016-05-13 |<br>| Google        |   230 | 2016-05-14 |<br>| 淘宝          |    10 | 2016-05-14 |<br>| Facebook      |   205 | 2016-05-14 |<br>| 微博          |    13 | 2016-05-15 |<br>| 菜鸟教程      |   220 | 2016-05-15 |<br>| Facebook      |   545 | 2016-05-16 |<br>| 菜鸟教程      |   201 | 2016-05-17 |<br>| stackoverflow |  NULL | NULL       |<br>+—————+——-+————+<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">SQL full outer join(全连接)</span><br><span class="line"></span><br><span class="line">full outer join全连接关键字只要左表（table1）和右表（table2）其中一个表中存在匹配，则返回行.</span><br><span class="line"></span><br><span class="line">FULL OUTER JOIN 关键字结合了 LEFT JOIN 和 RIGHT JOIN 的结果。</span><br><span class="line"></span><br><span class="line">select column_name(s) from table1 full outer join table2 on table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure></p>
<p>例子：mysql不支持full join<br>结果：无<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##  union</span><br><span class="line"></span><br><span class="line">### union</span><br><span class="line"></span><br><span class="line">union关键词合并多个select语句的结果集,要求每个列的数目相同并且列的数据类型类似，同时每个select语句列的顺序必须一样，</span><br><span class="line"></span><br><span class="line">**注释1：**UNION 结果集中的列名总是等于 UNION 中第一个 SELECT 语句中的列名。 </span><br><span class="line"></span><br><span class="line">**注释2：**UNION 不能用于列出两个表中所有的country。如果一些网站和APP来自同一个国家，每个国家只会列出一次。UNION 只会选取不同的值。请使用 UNION ALL 来选取重复的值！ </span><br><span class="line"></span><br><span class="line">select column_name(s) from table1 union select column_name(s) from table2 ;</span><br><span class="line"></span><br><span class="line">#### app</span><br><span class="line"></span><br><span class="line">+------+------------+------------------------+---------+</span><br><span class="line">| id   | app_name   | url                    | country |</span><br><span class="line">+------+------------+------------------------+---------+</span><br><span class="line">|    1 | QQ APP     | http://im.qq.com/      | CN      |</span><br><span class="line">|    2 | 微博 APP   | http://weibo.com/      | CN      |</span><br><span class="line">|    3 | 淘宝 APP   | http://www.taobao.com/ | CN      |</span><br><span class="line">+------+------------+------------------------+---------+</span><br><span class="line"></span><br><span class="line">#### websites</span><br><span class="line"></span><br><span class="line">+------+---------------+---------------------------+-------+---------+</span><br><span class="line">| id   | name          | url                       | alexa | country |</span><br><span class="line">+------+---------------+---------------------------+-------+---------+</span><br><span class="line">|    1 | Google        | https://www.google.cm/    |     1 | USA     |</span><br><span class="line">|    2 | 淘宝          | https://www.taobao.com/   |    13 | CN      |</span><br><span class="line">|    3 | 菜鸟教程      | http://www.runoob.com/    |  4689 | CN      |</span><br><span class="line">|    4 | 微博          | http://weibo.com/         |    20 | CN      |</span><br><span class="line">|    5 | Facebook      | https://www.facebook.com/ |     4 | USA     |</span><br><span class="line">|    7 | stackoverflow | http://stackoverflow.com/ |     0 | IND     |</span><br><span class="line">+------+---------------+---------------------------+-------+---------+</span><br></pre></td></tr></table></figure></p>
<p>例子1：select country from app union select country from websites;<br>结果1：<br>+———+<br>| country |<br>+———+<br>| CN      |<br>| USA     |<br>| IND     |<br>+———+<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### union all</span><br><span class="line"></span><br><span class="line">select column_name(s) from table1 union select column_name(s) from table2 ;</span><br></pre></td></tr></table></figure></p>
<p>例子1：select country from app union all select country from websites;<br>结果1：<br>+———+<br>| country |<br>+———+<br>| CN      |<br>| CN      |<br>| CN      |<br>| USA     |<br>| CN      |<br>| CN      |<br>| CN      |<br>| USA     |<br>| IND     |<br>+———+<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##select into</span><br><span class="line"></span><br><span class="line">select into 关键词从一张表复制数据插入到另外一张表</span><br><span class="line"></span><br><span class="line">select _column_names(s)_ into _newtable[in externaldb]_ from _table1_</span><br><span class="line"></span><br><span class="line">**注释1** MySQL不支持 select into</span><br><span class="line"></span><br><span class="line">**注释2** 创建新的表</span><br></pre></td></tr></table></figure></p>
<p>例子1：创建 Websites 的备份复件：<br>SELECT <em> INTO WebsitesBackup2016 FROM Websites;<br>例子2：只复制一些列插入到新表中：<br>SELECT name, url INTO WebsitesBackup2016 FROM Websites;<br>例子3：只复制中国的网站插入到新表中：<br>SELECT </em> INTO WebsitesBackup2016 FROM Websites<br>WHERE country=’CN’;<br>例子4：复制多个表中的数据插入到新表中：<br>SELECT Websites.name, access_log.count, access_log.date INTO WebsitesBackup2016 FROM Websites<br>LEFT JOIN access_log ON Websites.id=access_log.site_id;<br>例子5：另类创建空表<br>SELECT * INTO newtable FROM table1 WHERE 1=0;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## insert  into select </span><br><span class="line"></span><br><span class="line">insert  into select 关键词从一张表复制数据插入到另外一张表</span><br><span class="line"></span><br><span class="line">insert into _newtable[in externaldb] select  column_names(s)  from table1_</span><br><span class="line"></span><br><span class="line">或insert into _newtable[in externaldb]（column_name(s)) select  column_names(s)  from table1_</span><br><span class="line"></span><br><span class="line">**注释1** 表已存在</span><br></pre></td></tr></table></figure></p>
<p>例子1:INSERT INTO Websites (name, country) SELECT app_name, country FROM apps;<br>原表：<br>+——+—————+—————————+——-+———+<br>| id   | name          | url                       | alexa | country |<br>+——+—————+—————————+——-+———+<br>|    1 | Google        | <a href="https://www.google.cm/" target="_blank" rel="noopener">https://www.google.cm/</a>    |     1 | USA     |<br>|    2 | 淘宝          | <a href="https://www.taobao.com/" target="_blank" rel="noopener">https://www.taobao.com/</a>   |    13 | CN      |<br>|    3 | 菜鸟教程      | <a href="http://www.runoob.com/" target="_blank" rel="noopener">http://www.runoob.com/</a>    |  4689 | CN      |<br>|    4 | 微博          | <a href="http://weibo.com/" target="_blank" rel="noopener">http://weibo.com/</a>         |    20 | CN      |<br>|    5 | Facebook      | <a href="https://www.facebook.com/" target="_blank" rel="noopener">https://www.facebook.com/</a> |     4 | USA     |<br>|    7 | stackoverflow | <a href="http://stackoverflow.com/" target="_blank" rel="noopener">http://stackoverflow.com/</a> |     0 | IND     |<br>+——+—————+—————————+——-+———+<br>结果：<br>+——+—————+—————————+——-+———+<br>| id   | name          | url                       | alexa | country |<br>+——+—————+—————————+——-+———+<br>|    1 | Google        | <a href="https://www.google.cm/" target="_blank" rel="noopener">https://www.google.cm/</a>    |     1 | USA     |<br>|    2 | 淘宝          | <a href="https://www.taobao.com/" target="_blank" rel="noopener">https://www.taobao.com/</a>   |    13 | CN      |<br>|    3 | 菜鸟教程      | <a href="http://www.runoob.com/" target="_blank" rel="noopener">http://www.runoob.com/</a>    |  4689 | CN      |<br>|    4 | 微博          | <a href="http://weibo.com/" target="_blank" rel="noopener">http://weibo.com/</a>         |    20 | CN      |<br>|    5 | Facebook      | <a href="https://www.facebook.com/" target="_blank" rel="noopener">https://www.facebook.com/</a> |     4 | USA     |<br>|    7 | stackoverflow | <a href="http://stackoverflow.com/" target="_blank" rel="noopener">http://stackoverflow.com/</a> |     0 | IND     |<br>| NULL | QQ APP        | NULL                      |  NULL | CN      |<br>| NULL | 微博 APP      | NULL                      |  NULL | CN      |<br>| NULL | 淘宝 APP      | NULL                      |  NULL | CN      |<br>+——+—————+—————————+——-+———+<br><code>`</code></p>
</div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"/><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>